{"version":3,"sources":["picture1.png","picture2.png","chrom-utils.js","data-utils.js","VariantTable.js","App.js","reportWebVitals.js","index.js"],"names":["CHROMS","chr2Abs","chrName","pos","chr","filter","v","Math","min","parseLocation","str","chromNames","map","c","name","includes","ss","split","n","length","posAbs","parseInt","PAGE_SIZE","VariantTable","props","state","showFilter","loading","variants","displayedVariants","tablePage","showInsertionTable","loadingVariantsCalled","this","nextPage","bind","previousPage","toggleFilter","filterChange","toggleDetails","toggleInsertionTable","loadVariants","setState","prevState","event","preventDefault","variantId","target","dataset","id","forEach","filtertype","value","applyFilter","undefined","toLowerCase","locFrom","locTo","vcfFile","TabixIndexedFile","filehandle","RemoteFile","tbiFilehandle","getHeader","then","header","tbiVCFParser","VCF","dataPromises","chrom","dataPromise","getLines","line","vcfRecord","parseLine","push","info","CHROM","POS","gene_info","GENE_INFO","gene_info_disp","gene","info_split","first","last","replace","af","format","AF","md5","substring","chromOrder","start","end","END","SVLEN","type","SVTYPE","showDetails","vcfRecordToJson","Promise","all","values","className","CircularProgress","color","width","height","onClick","variantRows","variantsToDisplay","sort","a","b","slice","variant","index","href","infos","properties","property","colSpan","navButtons","message","htmlFor","placeholder","onChange","class","scope","React","Component","App","src","p1","alt","p3","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.4687ddac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/picture1.b19ef7e6.png\";","export default __webpack_public_path__ + \"static/media/picture2.f55359b9.png\";","\n\nexport const CHROMS = [\n  {\n    \"name\": \"chr1\",\n    \"order\": 1,\n    \"length\": 248956422,\n    \"cumPos\": 0,\n  },\n  {\n    \"name\": \"chr2\",\n    \"order\": 2,\n    \"length\": 242193529,\n    \"cumPos\": 248956422,\n  },\n  {\n    \"name\": \"chr3\",\n    \"order\": 3,\n    \"length\": 198295559,\n    \"cumPos\": 491149951,\n  },\n  {\n    \"name\": \"chr4\",\n    \"order\": 4,\n    \"length\": 190214555,\n    \"cumPos\": 689445510,\n  },\n  {\n    \"name\": \"chr5\",\n    \"order\": 5,\n    \"length\": 181538259,\n    \"cumPos\": 879660065,\n  },\n  {\n    \"name\": \"chr6\",\n    \"order\": 6,\n    \"length\": 170805979,\n    \"cumPos\": 1061198324,\n  },\n  {\n    \"name\": \"chr7\",\n    \"order\": 7,\n    \"length\": 159345973,\n    \"cumPos\": 1232004303,\n  },\n  {\n    \"name\": \"chr8\",\n    \"order\": 8,\n    \"length\": 145138636,\n    \"cumPos\": 1391350276,\n  },\n  {\n    \"name\": \"chr9\",\n    \"order\": 9,\n    \"length\": 138394717,\n    \"cumPos\": 1536488912,\n  },\n  {\n    \"name\": \"chr10\",\n    \"order\": 10,\n    \"length\": 133797422,\n    \"cumPos\": 1674883629,\n  },\n  {\n    \"name\": \"chr11\",\n    \"order\": 11,\n    \"length\": 135086622,\n    \"cumPos\": 1808681051,\n  },\n  {\n    \"name\": \"chr12\",\n    \"order\": 12,\n    \"length\": 133275309,\n    \"cumPos\": 1943767673,\n  },\n  {\n    \"name\": \"chr13\",\n    \"order\": 13,\n    \"length\": 114364328,\n    \"cumPos\": 2077042982,\n  },\n  {\n    \"name\": \"chr14\",\n    \"order\": 14,\n    \"length\": 107043718,\n    \"cumPos\": 2191407310,\n  },\n  {\n    \"name\": \"chr15\",\n    \"order\": 15,\n    \"length\": 101991189,\n    \"cumPos\": 2298451028,\n  },\n  {\n    \"name\": \"chr16\",\n    \"order\": 16,\n    \"length\": 90338345,\n    \"cumPos\": 2400442217,\n  },\n  {\n    \"name\": \"chr17\",\n    \"order\": 17,\n    \"length\": 83257441,\n    \"cumPos\": 2490780562,\n  },\n  {\n    \"name\": \"chr18\",\n    \"order\": 18,\n    \"length\": 80373285,\n    \"cumPos\": 2574038003,\n  },\n  {\n    \"name\": \"chr19\",\n    \"order\": 19,\n    \"length\": 58617616,\n    \"cumPos\": 2654411288,\n  },\n  {\n    \"name\": \"chr20\",\n    \"order\": 20,\n    \"length\": 64444167,\n    \"cumPos\": 2713028904,\n  },\n  {\n    \"name\": \"chr21\",\n    \"order\": 21,\n    \"length\": 46709983,\n    \"cumPos\": 2777473071,\n  },\n  {\n    \"name\": \"chr22\",\n    \"order\": 22,\n    \"length\": 50818468,\n    \"cumPos\": 2824183054,\n  },\n  {\n    \"name\": \"chrX\",\n    \"order\": 23,\n    \"length\": 156040895,\n    \"cumPos\": 2875001522,\n  },\n  {\n    \"name\": \"chrY\",\n    \"order\": 24,\n    \"length\": 57227415,\n    \"cumPos\": 3031042417,\n  },\n];\n\n\nexport const chromNameToOrder = (chrName) => {\n  const chr = CHROMS.filter(v => v[\"name\"] === chrName);\n  return chr[0][\"order\"];\n}\n\nexport const chr2Abs = (chrName, pos) => {\n  const chr = CHROMS.filter(v => v[\"name\"] === chrName);\n  return chr[0][\"cumPos\"] + Math.min(pos, chr[0][\"length\"]);\n}\n\n","import md5 from 'md5'\nimport { CHROMS, chr2Abs } from \"./chrom-utils\";\nimport { format } from \"d3-format\";\n\nexport const VCF_URL = \"https://aveit.s3.amazonaws.com/misc/sva_elements.sorted.vcf.gz\";\nexport const TBI_URL = \"https://aveit.s3.amazonaws.com/misc/sva_elements.sorted.vcf.gz.tbi\";\n\n\nexport const vcfRecordToJson = (vcfRecord, chrom) => {\n  const info = vcfRecord['INFO'];\n  const posAbs = chr2Abs(vcfRecord.CHROM, +vcfRecord.POS);\n  const gene_info = info.GENE_INFO ? info.GENE_INFO[0].toLowerCase() : \"\";\n  const gene_info_disp = [];\n  if(info.GENE_INFO){\n    const gene_split = info.GENE_INFO[0].split(\"/\");\n    gene_split.forEach(gene => {\n      const info_split = gene.split(\":\");\n      if(info_split.length > 1){\n        const first = info_split[0];\n        const last = info_split[info_split.length-1];\n        gene_info_disp.push(first+\":\"+last);\n      }else{\n        gene_info_disp.push(info_split[0].replace(\"not_gene_region\", \"intergenic\"));\n      }\n    });\n  }\n\n  const af = format(\".2e\")(info.AF[0]);\n\n  return {\n    id: md5(posAbs).substring(0,4),\n    chrom: vcfRecord.CHROM,\n    chromOrder: chrom[\"order\"],\n    start: vcfRecord.POS,\n    end: info.END[0],\n    length: info.SVLEN[0],\n    type: info.SVTYPE[0],\n    info: info,\n    gene_info: gene_info,\n    gene_info_disp: gene_info_disp,\n    posAbs: posAbs,\n    af: af,\n    showDetails: false\n  }\n}\n\nexport const parseLocation = (str) => {\n  const chromNames = CHROMS.map(c => c.name);\n  if(str.includes(\":\")){\n    const ss = str.split(\":\").filter(n => n); // remove empty elements\n    if(ss.length === 1 && chromNames.includes(ss[0])){\n      const chrName = ss[0];\n      return {\n        posAbs: chr2Abs(chrName,0)\n      }\n    }\n    else if(ss.length > 1 && chromNames.includes(ss[0]) && parseInt(ss[1], 10)){\n      const chrName = ss[0];\n      const pos = parseInt(ss[1], 10);\n      return {\n        posAbs: chr2Abs(chrName, pos)\n      }\n    }\n    \n  }else if(chromNames.includes(str)){\n    return {\n      posAbs: chr2Abs(str,0)\n    }\n  }\n\n  return null\n}","import React from \"react\";\nimport CircularProgress from \"react-cssfx-loading/lib/CircularProgress\";\nimport { TabixIndexedFile } from \"@gmod/tabix\";\nimport VCF from \"@gmod/vcf\";\nimport { RemoteFile } from \"generic-filehandle\";\n//import fetch from 'node-fetch'\nimport { CHROMS } from \"./chrom-utils\";\nimport { format } from \"d3-format\";\nimport { VCF_URL, TBI_URL, vcfRecordToJson, parseLocation } from \"./data-utils\";\n\nconst PAGE_SIZE = 50;\n\nclass VariantTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showFilter: false,\n      loading: true,\n      variants: [],\n      displayedVariants: [],\n      tablePage: 0,\n      filter: {},\n      showInsertionTable: false,\n    };\n    this.variants = [];\n    this.loadingVariantsCalled = false;\n  }\n\n  componentDidMount() {\n    this.nextPage = this.nextPage.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n    this.toggleFilter = this.toggleFilter.bind(this);\n    this.filterChange = this.filterChange.bind(this);\n    this.toggleDetails = this.toggleDetails.bind(this);\n    this.toggleInsertionTable = this.toggleInsertionTable.bind(this);\n    this.loadVariants();\n  }\n\n  nextPage() {\n    this.setState((prevState) => ({\n      tablePage: prevState.tablePage + 1,\n    }));\n  }\n\n  previousPage() {\n    this.setState((prevState) => ({\n      tablePage: prevState.tablePage - 1,\n    }));\n  }\n\n  toggleFilter() {\n    this.setState((prevState) => ({\n      showFilter: !prevState.showFilter,\n    }));\n  }\n\n  toggleDetails(event) {\n    event.preventDefault();\n    const variantId = event.target.dataset.id;\n    const variants = this.state.displayedVariants;\n    variants.forEach((v) => {\n      if (v[\"id\"] === variantId) {\n        v[\"showDetails\"] = !v[\"showDetails\"];\n      }\n    });\n\n    this.setState((prevState) => ({\n      displayedVariants: variants,\n    }));\n  }\n\n  toggleInsertionTable(event) {\n    event.preventDefault();\n    this.setState((prevState) => ({\n      filter: {},\n      displayedVariants: prevState.variants,\n      showInsertionTable: !prevState.showInsertionTable,\n    }));\n  }\n\n  filterChange(event) {\n    const filtertype = event.target.dataset.filtertype;\n    const filter = this.state.filter;\n\n    filter[filtertype] = event.target.value;\n    if (event.target.value === \"\") {\n      delete filter[filtertype];\n    }\n    this.applyFilter(filter);\n  }\n\n  applyFilter(filter) {\n    let variants = this.state.variants;\n    if (filter[\"gene\"] !== undefined) {\n      variants = variants.filter((v) =>\n        v[\"gene_info\"].includes(filter[\"gene\"].toLowerCase())\n      );\n    }\n    if (filter[\"from\"] !== undefined) {\n      const locFrom = parseLocation(filter[\"from\"]);\n      if (locFrom) {\n        variants = variants.filter((v) => {\n          return v[\"posAbs\"] >= locFrom[\"posAbs\"];\n        });\n      }\n    }\n    if (filter[\"to\"] !== undefined) {\n      const locTo = parseLocation(filter[\"to\"]);\n      if (locTo) {\n        variants = variants.filter((v) => {\n          return v[\"posAbs\"] <= locTo[\"posAbs\"];\n        });\n      }\n    }\n\n    this.setState((prevState) => ({\n      filter: filter,\n      displayedVariants: variants,\n    }));\n  }\n\n  loadVariants() {\n    if (this.loadingVariantsCalled) {\n      return;\n    }\n    this.loadingVariantsCalled = true;\n\n    this.vcfFile = new TabixIndexedFile({\n      filehandle: new RemoteFile(VCF_URL),\n      tbiFilehandle: new RemoteFile(TBI_URL),\n    });\n    const vcfHeader = this.vcfFile.getHeader(); // Promise\n\n    vcfHeader.then((header) => {\n      const tbiVCFParser = new VCF({ header: header });\n      const dataPromises = [];\n      CHROMS.forEach((chrom) => {\n        const dataPromise = this.vcfFile.getLines(\n          chrom[\"name\"],\n          0,\n          chrom[\"length\"],\n          (line) => {\n            const vcfRecord = tbiVCFParser.parseLine(line);\n            //console.log(vcfRecord);\n            this.variants.push(vcfRecordToJson(vcfRecord, chrom));\n          }\n        );\n        dataPromises.push(dataPromise);\n      });\n\n      Promise.all(dataPromises).then((values) => {\n        this.setState((prevState) => ({\n          loading: false,\n          variants: this.variants,\n          displayedVariants: this.variants,\n        }));\n        //console.log(this.variants);\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"text-center\">\n          <CircularProgress color=\"#999999\" width=\"50px\" height=\"50px\" />\n          <div className=\"mt-2 small text-muted\">Loading variants...</div>\n        </div>\n      );\n    }\n\n    if (this.state.showInsertionTable) {\n      return (\n        <div>\n          <h3 className=\"py-4 text-center\">\n            Some reported pathogenic SVA insertions\n          </h3>\n          <div className=\"row justify-content-md-center\">\n            <div className=\"col col-lg-8\">\n              <button\n                className=\"btn btn-primary mb-3\"\n                onClick={this.toggleInsertionTable}\n              >\n                Back to Browser\n              </button>\n              <div className=\"\">\n                <table className=\"table table-striped table-hover\">\n                  <thead>\n                    <tr>\n                      <th>Related papers</th>\n                      <th>Defected gene</th>\n                      <th>Related disease</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td>\n                        Rohrer, Jurg, et al., 1999\n                        <br />\n                        Conley, Mary Ellen, et al. 2005\n                      </td>\n                      <td>BTK</td>\n                      <td>XLA</td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Makino, Satoshi, et al. 2007\n                        <br />\n                        Bragg, D. Cristopher, et al 2017\n                        <br />\n                        Aneichyk, Tatsiana, et al. 2018\n                      </td>\n                      <td>TAF1</td>\n                      <td>X-linked dystonia-parkinsonism</td>\n                    </tr>\n                    <tr>\n                      <td>Nakamura, Yuki, et al. 2015</td>\n                      <td>FIX</td>\n                      <td>Hemophilia B</td>\n                    </tr>\n                    <tr>\n                      <td>Wilund, Kenneth R., et al. 2002</td>\n                      <td>LDRAP1</td>\n                      <td>ARH</td>\n                    </tr>\n                    <tr>\n                      <td>\n                        Hassoun, Hani, et al. 1994\n                        <br />\n                        Ostertag, Eric M., et al. 2003\n                      </td>\n                      <td>SPTA1</td>\n                      <td>HE and HPP</td>\n                    </tr>\n                    <tr>\n                      <td>Stacey, Simon N., et al. 2016</td>\n                      <td>CASP8</td>\n                      <td>Breast Cancer Susceptibility</td>\n                    </tr>\n                    <tr>\n                      <td>Nazaryan‐Petersen, Lusine, et al. 2016</td>\n                      <td>A4GNT</td>\n                      <td>Chromothripsis</td>\n                    </tr>\n                    <tr>\n                      <td>Takasu, M., et al. 2007</td>\n                      <td>HLA-A</td>\n                      <td>Leukemia</td>\n                    </tr>\n                    <tr>\n                      <td>van der Klift, Heleen M., et al. 2012</td>\n                      <td>PMS2</td>\n                      <td>Lynch syndrome</td>\n                    </tr>\n                    <tr>\n                      <td>Kobayashi, Kazuhiro, et al. 1998</td>\n                      <td>FKTN</td>\n                      <td>FCMD</td>\n                    </tr>\n                    <tr>\n                      <td>Akman, Hasan O., et al. 2010</td>\n                      <td>PNPLA2</td>\n                      <td>NLSDM</td>\n                    </tr>\n                    <tr>\n                      <td>Vogt, Julia, et al. 2014 (two patients)</td>\n                      <td>SUZ1P</td>\n                      <td>NF1</td>\n                    </tr>\n                    <tr>\n                      <td>Kherraf, Zine-Eddine, et al. 2018</td>\n                      <td>WDR66</td>\n                      <td>Male infertility</td>\n                    </tr>\n                    <tr>\n                      <td>Staaf, Johan, et al. 2019</td>\n                      <td>BRCA1</td>\n                      <td>Breast cancer</td>\n                    </tr>\n                    <tr>\n                      <td>Kim, Jinkuk, et al. 2019</td>\n                      <td>MFSD8</td>\n                      <td>Batten's disease</td>\n                    </tr>\n                    <tr>\n                      <td>Jones, Kaylie D., et al. 2020</td>\n                      <td>CHM</td>\n                      <td>Choroideremia</td>\n                    </tr>\n                    <tr>\n                      <td>de la Morena-Barrio, Belén, et al. 2020</td>\n                      <td>SERPINC1</td>\n                      <td>Antithrombin deficiency</td>\n                    </tr>\n                    <tr>\n                      <td>Taniguchi-Ikeda, Mariko, et al. 2011</td>\n                      <td>Fukutin</td>\n                      <td>Fukuyama muscular dystrophy</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <button\n                  className=\"btn btn-primary my-3\"\n                  onClick={this.toggleInsertionTable}\n                >\n                  Back to Browser\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    const variantRows = [];\n    const variantsToDisplay = this.state.displayedVariants.sort(\n      (a, b) => a.posAbs - b.posAbs\n    );\n    const variantsToDisplaySliced = variantsToDisplay.slice(\n      this.state.tablePage * PAGE_SIZE,\n      (this.state.tablePage + 1) * PAGE_SIZE\n    );\n\n    variantsToDisplaySliced.forEach((variant, index) => {\n      const gene_info = [];\n      variant.gene_info_disp.forEach((gene) => {\n        gene_info.push(\n          <span className=\"badge bg-light text-muted d-inline-block me-1\">\n            {gene}\n          </span>\n        );\n      });\n\n      variantRows.push(\n        <tr className={variant.showDetails ? \"table-secondary\" : \"\"}>\n          <td>{variant.chrom}</td>\n          <td>{format(\",.0f\")(variant.start)}</td>\n          <td>{format(\",.0f\")(variant.end)}</td>\n          <td>{variant.length}</td>\n          <td>{variant.af}</td>\n          <td>{gene_info}</td>\n          <td>\n            <a\n              href=\"#\"\n              className=\"link-primary\"\n              data-id={variant.id}\n              onClick={this.toggleDetails}\n            >\n              Details\n            </a>\n          </td>\n        </tr>\n      );\n      if (variant.showDetails) {\n        const infos = [];\n        const properties = [];\n        for (const property in variant.info) {\n          properties.push(property);\n        }\n        //properties.sort();\n        properties.forEach((property) => {\n          infos.push(\n            <div className=\"col-md-4\">\n              <strong>{property}:</strong> {variant.info[property]}\n            </div>\n          );\n        });\n\n        variantRows.push(\n          <tr className=\"table-light\">\n            <td colSpan={7}>\n              <div className=\"row\">{infos}</div>\n            </td>\n          </tr>\n        );\n      }\n    });\n\n    const navButtons = [];\n    if (this.state.tablePage > 0) {\n      navButtons.push(\n        <button\n          className=\"btn btn-primary btn-sm mx-2\"\n          onClick={this.previousPage}\n        >\n          Previous\n        </button>\n      );\n    }\n\n    if (\n      variantsToDisplay.length > PAGE_SIZE &&\n      (this.state.tablePage + 1) * PAGE_SIZE <= variantsToDisplay.length\n    ) {\n      navButtons.push(\n        <button className=\"btn btn-primary btn-sm\" onClick={this.nextPage}>\n          Next\n        </button>\n      );\n    }\n\n    let message = \"No variants found\";\n    if (variantsToDisplay.length > 0) {\n      message = `Displaying variants ${\n        this.state.tablePage * PAGE_SIZE + 1\n      }-${Math.min(\n        (this.state.tablePage + 1) * PAGE_SIZE,\n        variantsToDisplay.length\n      )} of ${variantsToDisplay.length}`;\n    }\n\n    return (\n      <div>\n        <h3 className=\"py-4\">Browse variants</h3>\n        <div className=\"d-flex mb-2\">\n          <div className=\"me-auto\"></div>\n          <button\n            className=\"btn btn-primary me-auto btn-sm collapse\"\n            onClick={this.toggleFilter}\n          >\n            Filter\n          </button>\n\n          <div className=\"pt-1 mx-2\">{message}</div>\n          {navButtons}\n        </div>\n\n        {/* <div className={this.state.showFilter ? \"\" : \"collapse\"}>\n          <div className=\"my-3 p-3 bg-light\">\nss\n          </div>\n        </div> */}\n        <div className=\"row pb-5\">\n          <div className=\"col-md-3 col-xl-2\">\n            <div className=\"small pt-1 text-muted\">FILTER</div>\n            <div className=\"mt-1 p-3 bg-light\">\n              <div className=\"mb-2\">\n                <label\n                  htmlFor=\"filter-from\"\n                  className=\"form-label small fw-bold\"\n                >\n                  From\n                </label>\n                <input\n                  className=\"form-control form-control-sm\"\n                  id=\"filter-from\"\n                  placeholder=\"e.g. chr1:1000000\"\n                  data-filtertype=\"from\"\n                  onChange={this.filterChange}\n                />\n              </div>\n              <div className=\"mb-2\">\n                <label htmlFor=\"filter-to\" className=\"form-label small fw-bold\">\n                  To\n                </label>\n                <input\n                  className=\"form-control form-control-sm\"\n                  id=\"filter-to\"\n                  placeholder=\"e.g. chr3:20000000\"\n                  data-filtertype=\"to\"\n                  onChange={this.filterChange}\n                />\n              </div>\n              <div className=\"mb-2\">\n                <label\n                  htmlFor=\"filter-gene\"\n                  className=\"form-label small fw-bold\"\n                >\n                  Gene\n                </label>\n                <input\n                  className=\"form-control form-control-sm\"\n                  id=\"filter-gene\"\n                  data-filtertype=\"gene\"\n                  placeholder=\"e.g. TNFRSF8\"\n                  onChange={this.filterChange}\n                />\n              </div>\n            </div>\n\n            <div className=\"my-2\">\n              <a href=\"#\" className=\"\" onClick={this.toggleInsertionTable}>\n                Reported pathogenic SVA insertions\n              </a>\n            </div>\n          </div>\n          <div className=\"col-md-9 col-xl-10\">\n            <div class=\"table-responsive\">\n              <table className=\"table table-hover table-sm\">\n                <thead className=\"sticky-table-header bg-white\">\n                  <tr>\n                    <th scope=\"col\">Chrom.</th>\n                    <th scope=\"col\">Start</th>\n                    <th scope=\"col\">End</th>\n                    <th scope=\"col\">Length</th>\n                    <th scope=\"col\">Allele Frequency</th>\n                    <th scope=\"col\">Gene info</th>\n                    <th scope=\"col\"></th>\n                  </tr>\n                </thead>\n                <tbody>{variantRows}</tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default VariantTable;\n","import p1 from './picture1.png';\nimport p3 from './picture2.png';\n//import './App.css';\nimport VariantTable from './VariantTable';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n\n  return (\n    <div className='container'>\n      <h1 className='pt-5 py-4 text-center'>Human SVA Retrotransposon Catalog</h1>\n\n\n      <div className=\"row py-5\">\n        <div className=\"col\">\n          <div className=\"d-flex justify-content-evenly flex-wrap\">\n            <img src={p1} className=\"frontpage-img1 d-inline-block\" alt=\"p1\" />\n            <img src={p3} className=\"frontpage-img2 d-inline-block\" alt=\"p2\" />\n          </div>\n        </div>\n      </div>\n\n      \n      <VariantTable />\n    </div>\n    \n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}